---

- name: Prep for many group
  hosts: all
  tasks:
    - name: Add mock /etc/hosts
      file:
        path: "/tmp/hosts"
        state: touch

- name: Converge
  hosts: one
  tasks:
    - name: "Test haxwithaxe.etc_hosts defaults"
      include_role:
        name: "haxwithaxe.etc_hosts"
      vars:
        etc_hosts_path: /tmp/hosts
        etc_hosts_suffix: .suffix
